<html id="page_header1" class="fade-in zoom">
<div class="body fade-in">
<!-----------------------------------------------------top Header box------------------------------------------------------------->
  <div class="row pl-2" style="background-color: #343a40; color: white;">
        <!--------------search box------------------->
      <div class="col-4 pl-4 pt-3 testing">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAAAoCAYAAABegnBwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACwNJREFUeNrsXQuYVVMU3tfM9JimkZKoKZFeHmWGUk2JXoyiopDGo0gm8kjk8Xk/6jORtyKE8iYqlQkhJcpIlBIhRY9pSI1Kj2st85+vPXv2Pvfcc8+dc5vvrO/7NXef5977P2v9a+1zr1A4HBaBBba/2gHBEAS2P1sy/2dUQcir8x1HqOtDP9YRVqqNO3cLceVJBaJpne7BTFdmAntoowk9fejHs4TL5Ia9pIxqVk0XdVKPCmY5kBCO7V+f+rGrnPfdI0RW/QGidvUjglkOCOzYQonQKc5LU5NTRHbDq4MZDggcFXnJ74k/CVsIu/3q1A66cvtGQ8UhaUcHMxxoYKNVI7QhtCZkErKgRYcSkggHE5oQ2hJaEDoQ6se7Q6XaN010bHRtMLsBgbXGhB1MOIOgZkjsfTfj742E5YTp+HwQoR3hOsKpcUggS0U4xYC2Dc6h5K2J3JyBB8qpcfT4B33ZYrNfQ0JNTTsf+4uD6zQipGnaeeyKCNUJOhG/k7Ca1RI+s2Oo5URdEbYT/iYUOxyLQwm1Ne2/EbY65Fgzm+3cl58qgsBMWBaV3RXpwQNdSPiCcBKhK5I5nvzPCfNAAib3LOBEwvWE8+Ohfw9OLTdetxCuiMaRow98z98QPiNMkB5Oyy4k3GUg4HERSMJjOJXQStPemzCDcCxhgebY5RhDK3nle7jEIYH5mBLCCsJ3hCmE+TbH3IB5V60/4R0H1+xHeNEmP9oGx7YyXgTuRLiZkCO1rSG8hQ58T9iE9mmEM5Xj14EAL4C8bIsJAwgvER4gHOMlifeEd+nIEk2CmQTvVx3ejfueR7iD8Jy032zCfZrj64N8n9pcowVIrs4Be9ZPpPvWzVEV5XNKFM6I900VpfX6TpB8PG/DCWsNHEmOIX+6ENc0WS3cwwivk7hDCOMIcyXy/k64Fdp3BCZoU4RrNCCcR5hJeBsSxDJuO5kwMd6FCQ/OkQGNf53UtozwrWH/0yKcr6NhYt+XQnPYJkLYfY6WA30Icwyhfm8MY3o4oYuD/foSanhJYA4PCwnXwhsJkOwEwv0IkbIOHIIQyzLiLIAXFp5S9u2LkDhKaivG8RcL/+rI0dgDIJ+l3yYb9st2MGk6m+pTvzgivEFI9/CclyLZj2SNIU1jlhAcmh4kXCXnRQifz2lIPgjVhQPRNlBK2gQ81l3wwKMQWjl8jUGIzYMGEtBJ6wmvOUxIvLCF0OkhyauwVzyM0MOQoPGY3UTohc8fIulTx5LzgZaQWDpv3tmgnRd72D+es6VwQumQDVnQnDpjPT4M8xOrMXEv0rQ/CumSqbTnOtTURgLzoI4XZZeCt2pI2QGk7Ca1bQL5ONOvR9ggbduAm+ak5HFJjuQiu+2HzJitAOFsKqoW8TbWfqMN246BRs/UbOsMacT6fgl0azPNBGYbCNwO+lq1N5A4emWvQ5KodgHhEUNlhkmXL0pr+rHYqZAQquzIB6/Ucc1BFFjhRkK0BnkikXckdG83KZm7HpPNN3QKMuSxGgKuRoL3klLZmKR4uk8wwNsrgMBVbbYtQ5VEVypKk8pbe/Ag6KxblPp4psf9SzW0vwzHoZNsTTWVETc2SNM2D4nidMO9Rl2Vsgh8NsKdbGOlC6WBePkIR2EkZBwmH4IH3oNQXBukLtDUD3mfVUpbd0mCWLbZAw/ghf0gVQRUay79PcWQ1HTQeNoa8E6qrccEV5Rxv941ROWcGM/dDJFUtWfw7xKU8HSRIdkNgZ8S5Wuc8jpsSNFs2yDQ19tkpicq4Zm93ROEu6U2ToLOUco3rI3fFPoCvx+2wNAuryqyTFhp0LpZmuSuiWbfj4WzhQEvbYZN9SAW66+psHCyPlua9+kG73+mGwIzEV9QtvWCJrHkRL4SQk92cP7B8EI1IdCHKduHo0xnWUuE0UYJVHUocpA/8IR8pNknpEmYOhvO97wPfVtqKJPFUomoZpACs5WxnGSQiZe6LaM9pJS8ONTdIX2eLCVnPDH3SCU2uyRxIsLV6cq2PCmksLVBRt9Q2e9Pnwm8w9CuSobXDGToo4yzTv+yBFvkQ9+2G+65Wgzn7IEoqtoTGnn2pWa/rtFEAHlgOaO+XdneDx7UItJIpeRyo4NrtFQyzmKcd7zUxk/sLJSv1JJLK5TgNvhEYKdv1fFy7I+ads4TGuPvJppcQ8B7+/GgHmRwQjtjOOdFhoT4K037q4aHZ5AbAgt4y/mKB50gJSKTkbBYxosa50XRua+RwLwlnZ818SuEOsoA8orXNdDHvHjAiyhP23hEv42Tzjma9hTJCXQ0VAbe8+me2wv9ErtbLd5A6BckJhkeCubT75r2S4S+zBiRwDwJFytahcPBndLnIYpufVHsW141vW/ACSLXjjtBd1mZKk/cbcq+66C/H9a0D4VHK0hQEs8ytHfFvzmGMD7Xp/vtbWhfH8P50jVSKxMSdZyC2w06mCVENycX1JUs+NW2y+ElLUKORPlrIi7IZTde5eHl0Cq4ud7o+Gp4Uw69hUjepkmVhuoos40Q5WvFnJleKUpf1TMZl19+TVACfwapU09pbwNt391A+rU+3Otwm4TyYxfnqwoHo0tkL3BxvlxDpcLWA1vGK2FXK/uxCB+Iz3+h/MX7/CJl1zPhWY8UpYV+FvRPYoKY1LxEvRgJoEzeP0Dc3hHI2xNaakiCEngLSKxaczy0uiXyd+J4PzsMOclY5Bc640i3wKUcaeXhvTN3DnXjgS17HILaKp+xp+XFjLoI7xwaHkP23ReErgXvsx2elkPB0fA8XIXI0CQLLEHGwHObLBMeO1ckvj2PsVDHOU/jMP526e2c2s0YsxCStXqQYHZVhmnC3SroQJskOGwjL633T1RjLvELYfe6JbDAk7oGcqEGbmIcSkGse1eg9DYB4AWI+6ClD0DCostyt4G4XEZbYnP9UxDqeony78Amqn2OHEJ9z0B3/4URIk6s1inK/TlSjnZxnQzNQ8vGbycOjnBsGMnt04aHIl9KADmS1Uf5rcQJgdleB4kfhZYT8KYdUD1gD8x13r14sk0raMUIr5ypzxDmr9zwYPSBbmov9j/jfn6KPCGSTUqg++ZqwLkuH6h+Qv/yFb8wtNzB8atRKFC/M8kLae3Ar/4o0RUhqvA3RYqdrjsvRPmLDxoGGZEO0T4UXrQQpJwCz/sXBuUPDMpiQ8lEQC+3R5aeo5TUXFi5aGXy3ikuE91Ix053QGAOrR+6zFGqOeyfE9uNqg5LNN1yuOncSdL46FbPShz0T5aSTNIBBhnE244n/Iz8aiP48l40L06U4CnhSsQ1eCKsFZPjgVxRtk5sMn55pzWOYXmQLcxvTrmgbzkC86rPIlF29SwknH3xcoOLY6ci/B0o9C/5hJCMRqo+bBXlV6tCouwXOgWIt0hE/pZECIldCTzZz0giC22O+dHQf6vU2lhznyGQbmMU08aS8ihNH1LwEK1BaW0ZePe/Zw/xr1O6/G009sAnIFtsjuyWQ8bLeKqTMIEZCA0Mfu0yCyWlwzwMf+ORJIldpL6b1skWeW3niQT5nZXKbkki/m8OhkDkLoj+rAhWOdXAJuMMeq7YV4RPgffl4vS/ODeTvGZFjmYyDeeqzfMJc4jIPQJ6xd8q4rXXMDg126nGcmO7xL6v47CLb1DR5LUeVe7tBz/dLfaGdwf0quTm9W+jVfWpH2WuW4W88Mqi+eKHoveDGa7k5vWv4yzyicRLtaWTteNFi7o9g1muxBYK/hcDgQUSIrDAAgIHFlhA4MACAgcW2P5j/wkwAL5DboABiX1YAAAAAElFTkSuQmCC">
        <h3 class="pb-3">System Service V1.3</h3>
        <div>
          <form class="form-inline my-2 my-lg-0">
            <input (keypress)="onKeypressEvent($event)" type="text" value="" id="srch1" class="form-control col-sm-5 col-lg-7 col-xl-5" placeholder="Search server name" list="datalist" [(ngModel)]="Servers_search_obj.server_name" name="searchP">
            <button class="btn search_btn ml-1" type="button" (click)="server_search()"><i	class="bi bi-search"></i>  Search</button>
          </form>
          <datalist id="datalist">
            <select *ngFor="let item of this.api.search_arr_filtered">
              <option>{{item}}</option>
            </select>
          </datalist>  
        </div>  
      </div>
      <!--------------middle box------------------->
      <div class="col-sm-4 col-lg-4 col-xl-4 pt-2 testing1">
        <h3 id="page_header" class="fade-in pt-5">FW CORE All servers</h3>
      </div>
      <!--------------user img and name box------------------->
      <div class="offset-sm-1 col-sm-3 offset-lg-2 col-lg-2 offset-xl-3 col-xl-1 pl-5 pt-2 testing2" style="text-align: center;">
          <img style="height: 60px; width:45px" class="img-circle elevation-2" src="https://bi.mellanox.com/misc/orgchart_photo.php?u={{UserName}}&amp;s=1">  
        <h4>{{UserName}}</h4> 
        <h6>Limited access</h6>
     <div style="text-align: center;">
      <button class="btn btn-danger" (click)="log_out()" routerLink=""><i	class="bi bi-person" style="font-size: 17px ;"></i> LogOut</button>
    </div>
      </div>
  </div>
    <!-----------------------------------------------------Categories buttons------------------------------------------------------------->
    <div class="row categories pb-4 pt-3 pl-3 pr-2">
      <div class="offset-md-1 col-md-10 offset-xl-0 col-xl-2 mt-2">
        <button class="btn nvidia_green col-xl-12 mb-1" (click)="categoryName2('All')">All Servers</button>
      </div>
      <div class="offset-md-1 col-md-10 offset-xl-0 col-xl-2 mt-2">
        <button class="btn nvidia_green col-xl-12 mb-1" (click)="categoryName2('Development')">Development</button>
      </div>
      <div class="offset-md-1 col-md-10 offset-xl-0 col-xl-2 mt-2">
        <button class="btn nvidia_green col-xl-12 mb-1" (click)="categoryName2('Regression')">Regression</button>
      </div>
      <div class="offset-md-1 col-md-10 offset-xl-0 col-xl-2 mt-2">
        <button class="btn nvidia_green col-xl-12 mb-1" (click)="categoryName2('Performance')">Performance</button>
      </div>
      <div class="offset-md-1 col-md-10 offset-xl-0 col-xl-2 mt-2">
        <button class="btn nvidia_green col-xl-12 mb-1" (click)="categoryName2('Minireg')">Mini reg</button>
      </div>
      <div class="offset-md-1 col-md-10 offset-xl-0 col-xl-2 mt-2">
        <button class="btn nvidia_green col-xl-12 mb-1" (click)="categoryName2('Other')">Other</button>
      </div>
      </div>   
            <!-----------------------------------------------------hidden div to display alert------------------------------------------------------------->   
            <div class="offset-1 col-9 pt-4">
              <div style="text-align: center;" id ='page_alert'></div>
            </div>  
            <div class="offset-1 col-9">
              <div style="text-align: center;" id ='page_alert1'></div>
            </div> 
    <!-----------------------------------------------------nav bar button------------------------------------------------------------->
      <div class="row">
        <div class="offset-md-1 col-md-10 offset-xl-0 col-xl-2" >
          <div class="offset-xl-1">
            <!--Navbar-->
        <nav class="navbar navbar-light purple lighten-4">
          <!-- Collapse button -->
          <button title="More options" class="col-md-12 col-xl-8 btn btn-outline-secondary mb-3" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent41" aria-controls="navbarSupportedContent41" aria-expanded="false"
            aria-label="Toggle navigation" style="font-size: 17px;" ><i class="bi bi-menu-up" style="float: left;"></i>Links & More</button>
          <!-- Collapsible content -->
          <div class="collapse navbar-collapse" id="navbarSupportedContent41">
            <!-- Links -->
            <ul class="navbar-nav mr-auto">      
              <li class="nav-item">
                <button type="button" (click)="goToLink('https://mars.mellanox.com/')" class="col-md-12 col-xl-8 mb-1 btn btn-outline-dark" style="font-size: 17px;"><i class="bi bi-link-45deg" style="float: left"></i> MARS</button>
              </li>    
              <li class="nav-item">
                <button type="button" (click)="goToLink('https://redmine.mellanox.com/')" target="_blank" class="col-md-12 col-xl-8 mb-1 btn btn-outline-dark" style="font-size: 17px;"><i class="bi bi-link-45deg" style="float: left;"></i> Redmine</button> 
              </li>
              <li class="nav-item">
                <button type="button" (click)="goToLink('https://noga.mellanox.com/')" target="_blank" class="col-md-12 col-xl-8 mb-1 btn btn-outline-dark" style="font-size: 17px;"><i class="bi bi-link-45deg" style="float: left;"></i> NOGA</button>
              </li>
              <li class="nav-item">
                <button type="button" (click)="goToLink('http://l-jenkins-005:8080/computer/')" target="_blank" class="col-md-12 col-xl-8 mb-1 btn btn-outline-dark" style="font-size: 17px;"><i class="bi bi-link-45deg" style="float: left;"></i> Nodes</button>
              </li>
              <li class="nav-item">
                <button type="button" (click)="goToLink('https://wikinox.mellanox.com/display/FW/HCA+CORE+FW+Infrastructure')" target="_blank" class="col-md-12 col-xl-8 mb-1 btn btn-outline-dark" style="font-size: 17px;"><i class="bi bi-link-45deg" style="float: left;"></i>FW Wiki</button>
              </li>            
              <li class="nav-item">
                <li class="nav-item">
                  <button type="button" data-toggle="modal" data-target="#delete_admin_user"  class="col-md-12 col-xl-8 mb-1 pb-2 btn btn-outline-dark" style="font-size: 17px;"><i class="bi bi-trash " style="float: left;"></i>Delete admin user</button>
                </li>
            </ul>
            <!-- Links -->
            <hr>
          </div>
          <!-- Collapsible content -->
        
        </nav>
        <!--/.Navbar-->
       
          </div>

<!-----------------------------------------------------accordion for user open tickets------------------------------------------------------------->
                  <div id="accordion1" class="offset-xl-1 col-xl-11 mb-3">
                  <div class="card nvidia_green">
                    <div class="card-header" id="headingSeven">
                      <h5 class="mb-0">
                        <button class="btn btn_improve collapsed col-12 nvidia_green" data-toggle="collapse" data-target="#collapseSeven" aria-expanded="true" aria-controls="collapseSeven">
                         {{UserName}} open tickets
                        </button>
                      </h5>
                    </div>
                    <div id="collapseSeven" class="collapse show" aria-labelledby="headingSeven" data-parent="#accordion1">
                      <div class="card-body p-0 m-0">
                        <div *ngIf ="this.api.open_tickets_arr.length==0">
                          <h6 style="text-align: center; " class="pt-3 pb-3">Empty</h6>
                        </div>
                        <div *ngFor="let item of this.api.open_tickets_arr" class="nvidia_green p-3">
                          <h6>Ticket num : #{{item.id}}</h6>
                          <h6>User : {{item.user}}</h6>
                          <h6>Assign To : {{item.assign_to}}</h6>
                          <h6>Subject : {{item.subject}}</h6>
                          <h6>Status : {{item.status}}</h6>
                          <h6>Description : {{item.desc}}</h6>
                          <button (click)="Ticket_console(item)" data-toggle="modal" data-target="#Close_ticket_modal" type="submit" class="btn search_btn offset-2 col-7 mt-3">Close ticket</button>
                          <hr>
                        </div>
                      </div>
                    </div>
                  </div>
                  </div>          
      <!-----------------------------------------------------accordion bar buttons------------------------------------------------------------->
          <div id="accordion" class="offset-xl-1 col-xl-11">
            <div class="card nvidia_green">
              <div class="card-header" id="headingsix">
                <h5 class="mb-0">
                  <button class="btn btn_improve collapsed col-12 nvidia_green" data-toggle="collapse" data-target="#collapsesix" aria-expanded="false" aria-controls="collapsesix">
                   Service fix ticket
                  </button>
                </h5>
              </div>
              <div id="collapsesix" class="collapse" aria-labelledby="headingsix" data-parent="#accordion">
                <div class="card-body">
                  <form class="col-12">
                    <div id="Service_fix_ticket_head"></div>
                    <div class="form-group">
                      <div style="color: red;">*  <label for="exampleInputEmail6" style="color: white;">Assign to</label></div>             
                      <select type="text" class="form-control" id="exampleInputEmail6" [(ngModel)]="FixTicket_obj.AssignTo" name="exampleInputEmail6"> 
                      <option value="All">All</option>
                      <option value="AtefS">AtefS</option>
                      <option value="rmrih">RaniM</option>
                    </select>
                    </div>
                    <div class="form-group">
                      <div style="color: red;">*  <label for="exampleInputEmail6" style="color: white;">Subject</label></div>
                      <select type="text" class="form-control" id="exampleInputEmailx" placeholder=""
                      [(ngModel)]="FixTicket_obj.Subject" name="ProductName" value="All">
                      <option value="Server is stuck">Server is stuck</option>
                      <option value="Replace card">Replace card</option>
                      <option value="Install new card">Install new card</option>
                      <option value="No ping">No ping</option>
                      <option value="No ILO">No ILO</option>
                      <option value="Other">Other</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <div style="color: red;">* <label for="exampleInputEmail6" style="color: white;">Describe the issue</label></div>
                      <textarea [(ngModel)]="FixTicket_obj.Description" style="height: 100px;"id="w3review" name="w3review" class="col-12" placeholder="Example: server xxx is stuck on booting due to bad FW burn"></textarea>
                      <!-- <input style="white-space:pre-line ;word-wrap:break-word;" type="text" class="form-control" id="exampleInputEmail1" placeholder="Example: server xxx is stuck on booting"
                        [(ngModel)]="NewProduct.Description" name="ProductDescription"> -->
                    </div>
                    <button id="myBtn" data-toggle="modal" type="submit" class="btn search_btn offset-4 col-4 mt-3" (click)="New_Service_Fix_Ticket()">Submit</button>
                  </form> 
                </div>
              </div>
            </div>
            <!-- <div class="card nvidia_green">
              <div class="card-header" id="headingFour">
                <h5 class="mb-0">
                  <button class="btn btn_improve collapsed col-12 nvidia_green" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                   Redmine issue
                  </button>
                </h5>
              </div>
              <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordion">
                <div class="card-body">
                  <form class="col-12">
                    <div id="Service_Redmine_ticket_head"></div>
                    <div class="form-group">
                      <div style="color: red;">*  <label for="exampleInputEmail4" style="color: white;">Assign to :</label></div>
                      <input type="text" class="form-control" id="exampleInputEmail4"
                      [(ngModel)]="RedmineTicket_obj.AssignTo" name="ProductName">
                    </div>
                    <div class="form-group">
                      <div style="color: red;">*  <label for="exampleInputEmail4" style="color: white;">Describe the Issue :</label></div>
                      <textarea [(ngModel)]="RedmineTicket_obj.Description" style="height: 100px;"id="w3review" name="w3review" class="col-12"></textarea>
                    </div>
                    <button type="submit" class="btn search_btn offset-4 col-4 mt-3" (click)="New_Redmine_Ticket()">Submit</button>
                  </form> 
                </div>
              </div>
            </div> -->
            <div disabled class="card nvidia_green">
              <div disabled class="card-header" id="headingOne">
                <h5 class="mb-0">
                  <button disabled class="btn col-12 btn_improve nvidia_green" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    Add new server to Noga
                  </button>
                </h5>
              </div>  
              <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                <div class="card-body">
                  <form class="col-12">
                    <div id="NOGA_head"></div>
                    <div class="form-group">
                      <div style="color: red;">*  <label for="exampleInputEmail1" style="color: white;">Server Name :</label></div>
                      <input type="text" class="form-control" id="exampleInputEmail" placeholder="Enter server name"
                        [(ngModel)]="New_NOGA_Server_obj.server_name" name="server_name">
                    </div>
                    <div class="form-group">
                      <div style="color: red;">*  <label for="exampleInputEmail1" style="color: white;">Group :</label></div>
                      <input type="text" class="form-control" id="exampleInputEmail1" placeholder="TamirA"
                        [(ngModel)]="New_NOGA_Server_obj.group" name="group">
                    </div>
                    <div class="form-group">
                      <div style="color: red;">*  <label for="exampleInputEmail1" style="color: white;">Sub group :</label></div>
                      <input type="text" class="form-control" id="exampleInputEmail1" placeholder="FW CORE"
                        [(ngModel)]="New_NOGA_Server_obj.sub_group" name="sub_group">
                    </div>
                    <button type="submit" class="btn search_btn offset-4 col-4 mt-3">Add</button>
                  </form>    
                </div>
              </div>
            </div>
            <div disabled class="card nvidia_green">
              <div disabled class="card-header" id="headingTwo">
                <h5 class="mb-0">
                  <button disabled class="btn btn_improve collapsed col-12 nvidia_green" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    Add new server to SLURM
                  </button>
                </h5>
              </div>
              <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                <div class="card-body">
                  <form class="col-12">
                    <div id="SLURM_head"></div>
                    <div class="form-group">
                      <div style="color: red;">*  <label for="exampleInputEmail1" style="color: white;">Server Name :</label></div>
                      <input type="text" class="form-control" id="exampleInputEmail1" placeholder="Enter name"
                        [(ngModel)]="New_SLURM_Server_obj.server_name" name="server_name">
                    </div>
                    <div class="form-group">
                      <div style="color: red;">*  <label for="exampleInputEmail1" style="color: white;">Cards :</label></div>
                      <input type="text" class="form-control" id="exampleInputEmail1" placeholder="Example: cx5,cx6"
                        [(ngModel)]="New_SLURM_Server_obj.cards" name="cards">
                    </div>
                    <button type="submit" class="btn search_btn mt-3 offset-4 col-4" >Add</button>
                  </form> 
                </div>
              </div>
            </div>
            <div disabled class="card nvidia_green">
              <div disabled class="card-header" id="headingThree">
                <h5 class="mb-0">
                  <button disabled class="btn btn_improve collapsed col-12 nvidia_green" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    Add new server to MARS
                  </button>
                </h5>
              </div>
              <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
                <div class="card-body">
                  <form class="col-12">
                    <div id="MARS_head"></div>
                    <div class="form-group">
                      <div style="color: red;">*  <label for="exampleInputEmail1" style="color: white;">Server Name :</label></div>
                      <input type="text" class="form-control" id="exampleInputEmail1" placeholder="Enter name"
                        [(ngModel)]="New_MARS_Server_obj.server_name" name="server_name">
                    </div>
                    <div class="form-group">
                      <div style="color: red;">*  <label for="exampleInputEmail1" style="color: white;">Cards :</label></div>
                      <input type="text" class="form-control" id="exampleInputEmail1" placeholder="Example: cx5,cx6"
                        [(ngModel)]="New_MARS_Server_obj.cards" name="cards">
                    </div>
                    <button type="submit" class="btn search_btn mt-3 offset-4 col-4" >Add</button>
                  </form> 
                </div>
              </div>
            </div>
          </div>      
        </div>

<!--========================================================================================================================================================-->
<!--===================================================Table this.api.flag = 0 is default first entery page !important============================================================================-->
<!--========================================================================================================================================================-->

        <div class="col-lg-12 col-xl-10">
          <div *ngIf="this.api.flag == 0">
            <div id="middlebar" class="col-md-12 col-lg-12 col-xl-12 fade-in">
              <div class="alloc_header offset-4" ><h4 class="pl-5 pt-2" style="position:relative; float: left;">Allocated servers</h4>
                <button (click)="Show_running_servers()" type="button" style="float: right;position: relative;text-align: center;" class="ml-3 col-lg-8 col-xl-2 mb-3 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Show running servers only view"><i class="bi bi-activity pr-2" style="float:left;font-weight: bolder;"></i>Show running servers</button>
                <button (click)="Show_dead_servers()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 ml-3 mb-3 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Show dead servers only view"><i class="bi bi-emoji-frown" style="float:left;"></i>Show dead servers</button>
                <button (click)="Show_Mtusbs_list()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 ml-3 mb-3 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Show Mtusb list"><i class="bi bi-usb-symbol" style="float:left;"></i>Show Mtusb list</button>
                <button (click)="Refresh()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 mb-4 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Refresh servers view"><i class="bi bi-arrow-clockwise" style="float:left;"></i>Refresh data</button>
              </div>
              <!-------------table 1 this.api.flag 0 if there is no allocated servers ------------------->
              <table *ngIf="this.api.user_allocated_servers_2.length == '0'" class="table table-hover">
                <thead class="thead">
                  <tr class="table-bordered">
                    <th class="col-1">ILO</th>
                    <th class="col-1">Server name</th>
                    <th class="col-1">Dead / Alive</th>
                    <th class="col-1">LiveFish</th>
                    <th class="col-1">Card</th>
                    <th class="col-2">Device</th>
                    <th class="col-1">MTUSB</th>
                    <th class="col-4">Actions</th>
                  </tr>
                </thead>
              <tbody class="fade-in">
                <tr class="table-bordered" class="col-12">
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>     
                  <td class="pt-4" style="float:right">Empty</td>
                  <td></td>
                  <td></td>
                  <td></td>
              </tr>
              </tbody>
              </table>
             <!------------- table 2 this.api.flag 0 if there is allocated servers ------------------->
                  <table *ngIf="this.api.user_allocated_servers_2.length != '0'" class="table table-hover">
                    <thead class="thead">
                      <tr class="table-bordered">
                        <th class="col-1">ILO</th>
                        <th class="col-1">Server name</th>
                        <th class="col-1">Dead / Alive</th>
                        <th class="col-1">LiveFish</th>
                        <th class="col-1">Card</th>
                        <th class="col-2">Device</th>
                        <th class="col-1">MTUSB</th>
                        <th class="col-4">Actions</th>
                      </tr>
                    </thead>
                    <tbody *ngFor="let item of this.api.servers_list_from_db" class="fade-in">       
             <!-------------row 1 <tr> for server allocated and enabled buttons ------------------->
                    <tr *ngIf="item.allocated === 'yes' && item.status==='idle'" class="table-bordered" >
                      <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
                      <td>{{item.server_name}}</td>
                      <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
                      <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
                      <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
                      <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>         
                      <td>{{item.cards}}</td>
                      <td>{{item.device_name}} </td>

                    <!--new mtusb table for servers connected-->
                    <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
                    <td *ngIf="item.mtusb_info !== 'none'">
                      <div class="dropdown">
                        <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Mtusb
                        </button>
                        <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                          <table class="table table-hover">
                            <thead>
                              <tr class="table pt-3 pb-3">
                                <th>Server mtusb connected</th>
                                <th>Device</th>
                                <th>Remote machine USB side</th>
                                <th>Device name</th>
                                <th>GUID</th>
                                <th>PSID</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr class="table pt-3 pb-3">                       
                                <td>{{item.mtusb_info.server_name}}</td>
                                <td>{{item.mtusb_info.device}}</td>
                                <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                                <td>{{item.mtusb_info.device_name}}</td>
                                <td>{{item.mtusb_info.GUID}}</td>
                                <td>{{item.mtusb_info.PSID}}</td>
                              </tr>
                            </tbody>
                          </table>
                          <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
                        </div>
                      </div>
                    </td>
                  <!--end mtusb-->

                      <td style="text-align: center;">
                        <div class="row">               
                          <div class="col-lg-12 col-xl-4">
                            <button *ngIf ="item.has_lf=='yes'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#ModalRecovery_User" title="Enable LiveFish and recover">Start recovery</button>
                            <button *ngIf ="item.has_lf=='no'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
                          </div>
                        <div class="col-lg-12 col-xl-4">
                          <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_minireg-coming_soon" class="col-12 mt-1 btn btn_improve btn-outline-info " title="prepare as minireg">Prepare minireg</button>
                        </div>
                        <div class="col-lg-12 col-xl-4">
                          <button class=" col-12 mt-1 btn btn-info" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                            <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                          </button>  
                         </div>            
                        </div>
                        <div class="mt-2 collapse table-bordered" id="collapse-{{item.server_name}}{{item.cards}}">
                          <div class="row mt-2 mb-2">
                             <div class="col-lg-12 offset-xl-1 col-xl-10">
                              <button type="button" class="col-12 mt-1 btn_improve btn btn-outline-info" title="prepare as reg" data-toggle="modal" data-target="#Modal_coming_soon">Prepare as reg</button>
                            </div>
                             <div class="col-lg-12 offset-xl-1 col-xl-10">
                               <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">Ping</button>
                             </div>
                             <div class="col-lg-12 offset-xl-1 col-xl-10">
                               <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">Remote ILO reboot</button>
                             </div>
                             <div class="col-lg-12 offset-xl-1 col-xl-10">
                               <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">ipmi_command cycle</button>
                             </div>
                             <div class="col-lg-12 offset-xl-1 col-xl-10">
                               <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">ipmi_command on</button>
                             </div>
                             <div class="col-lg-12 offset-xl-1 col-xl-10">
                               <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">ipmi_command off</button>
                             </div>
                             <div class="col-lg-12 offset-xl-1 col-xl-10">
                               <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Choose_OS" title="Choose OS to install" class="col-12 mt-1 btn btn_improve btn-outline-info ">OS install</button>
                             </div>
                             <div class="col-lg-12 offset-xl-1 col-xl-10">
                               <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">MFT install</button>
                             </div>
                             <div class="col-lg-12 offset-xl-1 col-xl-10">
                               <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">Rshim install</button>
                             </div>
                             <div class="col-lg-12 offset-xl-1 col-xl-10">
                               <button data-toggle="modal" data-target="#ModalDelete" type="button" class="col-12 mt-1 btn_improve btn btn-outline-danger" title="Delete server from noga and slurm">Delete <i class="myIconB bi bi-trash" style="float: right;" title="Delete server from noga and slurm" data-toggle="modal" data-target="#ModalDelete" (click)="console(item.server_name ,item.cards)"></i></button>   
                               </div> 
                          </div>   
                          </div>                 
                      </td>
                    </tr>    
              <!------------row 2 -<tr> for server allocated and unselectable disabled buttons ------------------->                   
                    <tr *ngIf="item.allocated === 'yes' && item.status !='idle'" class="table-bordered unselectable" >
                      <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
                      <td>{{item.server_name}}</td>
                      <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
                      <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
                      <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
                      <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>         
                      <td>{{item.cards}}</td>
                      <td>{{item.device_name}} </td>

                    <!--new mtusb table for servers connected-->
                    <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
                    <td *ngIf="item.mtusb_info !== 'none'">
                      <div class="dropdown">
                        <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Mtusb
                        </button>
                        <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                          <table class="table table-hover">
                            <thead>
                              <tr class="table pt-3 pb-3">
                                <th>Server mtusb connected</th>
                                <th>Device</th>
                                <th>Remote machine USB side</th>
                                <th>Device name</th>
                                <th>GUID</th>
                                <th>PSID</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr class="table pt-3 pb-3">                       
                                <td>{{item.mtusb_info.server_name}}</td>
                                <td>{{item.mtusb_info.device}}</td>
                                <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                                <td>{{item.mtusb_info.device_name}}</td>
                                <td>{{item.mtusb_info.GUID}}</td>
                                <td>{{item.mtusb_info.PSID}}</td>
                              </tr>
                            </tbody>
                          </table>
                          <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
                        </div>
                      </div>
                    </td>
                  <!--end mtusb-->

                      <td style="text-align: center;">
                        <div class="row">         
                          <!--if button server in recovery-->
                          <div class="col-lg-12 col-xl-4">
                            <button  *ngIf= "item.status =='in_recovery'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info" >
                              <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                              Open log
                            </button>
                           <!--if button server not in recovery-->
                              <button disabled *ngIf ="item.has_lf=='yes' && item.status !='in_recovery'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_User" title="Enable LiveFish and recover">Start recovery</button>
                              <button disabled *ngIf ="item.has_lf=='no' && item.status !='in_recovery'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
                        </div>
                        <div class="col-lg-12 col-xl-4">
                          <button  *ngIf= "item.status =='preparing_minireg'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info">
                            <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                            Open log
                          </button>
                          <button *ngIf= "item.status !='preparing_minireg'" disabled (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 btn btn_improve btn-secondary  " title="prepare as minireg">Prepare minireg</button>
                        </div>
                        <div class="col-lg-12 col-xl-4">
                          <button disabled class=" col-12 mt-1 btn btn-secondary" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                            <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                          </button>  
                         </div>                      
                        </div>
                      </td>
                    </tr>  
                   </tbody>
                  </table>
                  <hr>
               <!------------ table 3 this.api.flag 0 show non allocated servers ------------------->
               <div class="alloc_header offset-3 mb-4 mt-5 pl-5"><h4 class="pl-5">SLURM Non allocated servers</h4></div>
               <table class="table table-hover">
                <thead class="thead">
                  <tr class="table-bordered">
               <th class="col-1">ILO</th>
               <th class="col-1">Server name</th>
               <th class="col-1">Dead / Alive</th>
               <th class="col-1">LiveFish</th>
                <th class="col-1">Card</th>
                <th class="col-2">Device</th>
                <th class="col-1">MTUSB</th>
                <th class="col-4">Actions</th>
                  </tr>
                </thead>
                <tbody *ngFor="let item of this.api.servers_list_from_db" class="fade-in">
                 <!-------------row 1 <tr> for server non allocated and enabled buttons ------------------->
                    <tr *ngIf ="item.status=='idle' && item.allocated==='no'" class="table-bordered">
                      <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
                      <td>{{item.server_name}}</td>
                      <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
                      <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
                      <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
                      <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>
                      <td>{{item.cards}}</td>
                      <td>{{item.device_name}} </td>
                    <!--new mtusb table for servers connected-->
                    <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
                    <td *ngIf="item.mtusb_info !== 'none'">
                      <div class="dropdown">
                        <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Mtusb
                        </button>
                        <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                          <table class="table table-hover">
                            <thead>
                              <tr class="table pt-3 pb-3">
                                <th>Server mtusb connected</th>
                                <th>Device</th>
                                <th>Remote machine USB side</th>
                                <th>Device name</th>
                                <th>GUID</th>
                                <th>PSID</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr class="table pt-3 pb-3">                       
                                <td>{{item.mtusb_info.server_name}}</td>
                                <td>{{item.mtusb_info.device}}</td>
                                <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                                <td>{{item.mtusb_info.device_name}}</td>
                                <td>{{item.mtusb_info.GUID}}</td>
                                <td>{{item.mtusb_info.PSID}}</td>
                              </tr>
                            </tbody>
                          </table>
                          <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
                        </div>
                      </div>
                    </td>
                  <!--end mtusb-->

                    <td style="text-align: center;">
                        <div class="row">         
                          <div class="col-lg-12 col-xl-4">
                            <button *ngIf ="item.has_lf=='yes'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#exampleModalCenter" title="Enable LiveFish and recover">Start recovery</button>
                            <button *ngIf ="item.has_lf=='no'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
                        </div>
                        <div class="col-lg-12 col-xl-4">
                          <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_minireg-coming_soon" class="col-12 mt-1 btn btn_improve btn-outline-info " title="prepare as minireg">Prepare minireg</button>
                        </div>
                        <div class="col-lg-12 col-xl-4">
                          <button disabled class=" col-12 mt-1 btn btn-secondary" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                            <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                          </button>  
                         </div>                      
                        </div>
                      </td>
                    </tr>  
              <!------------row 2 -<tr> for server non allocated and unselectable disabled buttons ------------------->                   
                <tr *ngIf ="item.status!='idle' && item.allocated==='no' " class="table-bordered unselectable">
                  <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
                  <td>{{item.server_name}}</td>
                  <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
                  <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
                  <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
                      <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>
                      <td>{{item.cards}}</td>
                      <td>{{item.device_name}} </td>

                    <!--new mtusb table for servers connected-->
                    <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
                    <td *ngIf="item.mtusb_info !== 'none'">
                      <div class="dropdown">
                        <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Mtusb
                        </button>
                        <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                          <table class="table table-hover">
                            <thead>
                              <tr class="table pt-3 pb-3">
                                <th>Server mtusb connected</th>
                                <th>Device</th>
                                <th>Remote machine USB side</th>
                                <th>Device name</th>
                                <th>GUID</th>
                                <th>PSID</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr class="table pt-3 pb-3">                       
                                <td>{{item.mtusb_info.server_name}}</td>
                                <td>{{item.mtusb_info.device}}</td>
                                <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                                <td>{{item.mtusb_info.device_name}}</td>
                                <td>{{item.mtusb_info.GUID}}</td>
                                <td>{{item.mtusb_info.PSID}}</td>
                              </tr>
                            </tbody>
                          </table>
                          <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
                        </div>
                      </div>
                    </td>
                  <!--end mtusb-->

                      <td style="text-align: center;">
                        <div class="row">         
                          <!--if button server in recovery-->
                          <div class="col-lg-12 col-xl-4">
                            <button  *ngIf= "item.status =='in_recovery'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info" >
                              <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                              Open log
                            </button>
                           <!--if button server not in recovery-->
                              <button disabled *ngIf ="item.has_lf=='yes' && item.status !='in_recovery'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_User" title="Enable LiveFish and recover">Start recovery</button>
                              <button disabled *ngIf ="item.has_lf=='no' && item.status !='in_recovery'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
                        </div>
                        <div class="col-lg-12 col-xl-4">
                          <button  *ngIf= "item.status =='preparing_minireg'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info" >
                            <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                            Open log
                          </button>
                          <button *ngIf= "item.status !='preparing_minireg'" disabled (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 btn btn_improve btn-secondary  " title="prepare as minireg">Prepare minireg</button>
                        </div>
                        <div class="col-lg-12 col-xl-4">
                          <button disabled class=" col-12 mt-1 btn btn-secondary" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                            <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                          </button>  
                         </div>                    
                        </div>
                      </td>
                    </tr>  
  
                   </tbody>
                  </table>
                </div>  
                </div> 
<!--========================================================================================================================================================-->
<!--===================================================Table this.api.flag = 1 !important============================================================================-->
<!--========================================================================================================================================================-->
<div *ngIf="this.api.flag == 1">
  <div id="middlebar" class="col-md-12 col-lg-12 col-xl-12 fade-in">
    <div class="alloc_header offset-4" ><h4 class="pl-5 pt-2" style="position:relative; float: left;">Allocated servers</h4>
      <button (click)="Show_running_servers()" type="button" style="float: right;position: relative;text-align: center;" class="ml-3 col-lg-8 col-xl-2 mb-3 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Show running servers only view"><i class="bi bi-activity pr-2" style="float:left;font-weight: bolder;"></i>Show running servers</button>
      <button (click)="Show_dead_servers()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 ml-3 mb-3 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Show dead servers only view"><i class="bi bi-emoji-frown" style="float:left;"></i>Show dead servers</button>
      <button (click)="Show_Mtusbs_list()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 ml-3 mb-3 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Show Mtusb list"><i class="bi bi-usb-symbol" style="float:left;"></i>Show Mtusb list</button>
      <button (click)="Refresh()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 mb-4 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Refresh servers view"><i class="bi bi-arrow-clockwise" style="float:left;"></i>Refresh data</button>
    </div>
    <!-------------table 1 this.api.this.api.flag 1 if there is no allocated servers ------------------->
    <table *ngIf="this.api.empty == '1'" class="table table-hover">
      <thead class="thead">
        <tr class="table-bordered">
          <th class="col-1">ILO</th>
          <th class="col-1">Server name</th>
          <th class="col-1">Dead / Alive</th>
          <th class="col-1">LiveFish</th>
          <th class="col-1">Card</th>
          <th class="col-2">Device</th>
          <th class="col-1">MTUSB</th>
          <th class="col-4">Actions</th>
        </tr>
      </thead>
    <tbody class="fade-in">
      <tr class="table-bordered" class="col-12">
        <td></td>
        <td></td>
        <td></td>
        <td></td>     
        <td class="pt-4" style="float:right">Empty</td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    </tbody>
    </table>
   <!------------- table 2 this.api.this.api.flag 1 if there is allocated servers ------------------->
   <table *ngIf="this.api.user_allocated_servers_2.length != '0' && this.api.empty=='0'" class="table table-hover">
          <thead class="thead">
            <tr class="table-bordered">
              <th class="col-1">ILO</th>
              <th class="col-1">Server name</th>
              <th class="col-1">Dead / Alive</th>
              <th class="col-1">LiveFish</th>
              <th class="col-1">Card</th>
              <th class="col-2">Device</th>
              <th class="col-1">MTUSB</th>
              <th class="col-4">Actions</th>
            </tr>
          </thead>
          <tbody *ngFor="let item of this.cat" class="fade-in">       
   <!-------------row 1 <tr> for server allocated and enabled buttons ------------------->
          <tr *ngIf="item.allocated === 'yes' && item.status==='idle'" class="table-bordered" >
            <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
            <td>{{item.server_name}}</td>
            <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
            <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
            <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
            <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>         
            <td>{{item.cards}}</td>
            <td>{{item.device_name}} </td>

            <!--new mtusb table for servers connected-->
            <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
            <td *ngIf="item.mtusb_info !== 'none'">
              <div class="dropdown">
                <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Mtusb
                </button>
                <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                  <table class="table table-hover">
                    <thead>
                      <tr class="table pt-3 pb-3">
                        <th>Server mtusb connected</th>
                        <th>Device</th>
                        <th>Remote machine USB side</th>
                        <th>Device name</th>
                        <th>GUID</th>
                        <th>PSID</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="table pt-3 pb-3">                       
                        <td>{{item.mtusb_info.server_name}}</td>
                        <td>{{item.mtusb_info.device}}</td>
                        <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                        <td>{{item.mtusb_info.device_name}}</td>
                        <td>{{item.mtusb_info.GUID}}</td>
                        <td>{{item.mtusb_info.PSID}}</td>
                      </tr>
                    </tbody>
                  </table>
                  <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
                </div>
              </div>
            </td>
          <!--end mtusb-->
            

            <td style="text-align: center;">
              <div class="row">               
                <div class="col-lg-12 col-xl-4">
                  <button *ngIf ="item.has_lf=='yes'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#ModalRecovery_User" title="Enable LiveFish and recover">Start recovery</button>
                  <button *ngIf ="item.has_lf=='no'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
                </div>
              <div class="col-lg-12 col-xl-4">
                <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_minireg-coming_soon" class="col-12 mt-1 btn btn_improve btn-outline-info " title="prepare as minireg">Prepare minireg</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button class=" col-12 mt-1 btn btn-info" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                  <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                </button>  
               </div>            
              </div>
              <div class="mt-2 collapse table-bordered" id="collapse-{{item.server_name}}{{item.cards}}">
                <div class="row mt-2 mb-2">
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                    <button type="button" class="col-12 mt-1 btn_improve btn btn-outline-info" title="prepare as reg" data-toggle="modal" data-target="#Modal_coming_soon">Prepare as reg</button>
                  </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported"  class="col-12 mt-1 btn btn_improve btn-outline-info ">Ping</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">Remote ILO reboot</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">ipmi_command cycle</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">ipmi_command on</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">ipmi_command off</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                    <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Choose_OS" title="Choose OS to install" class="col-12 mt-1 btn btn_improve btn-outline-info ">OS install</button>
                  </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">MFT install</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">Rshim install</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button data-toggle="modal" data-target="#ModalDelete" type="button" class="col-12 mt-1 btn_improve btn btn-outline-danger" title="Delete server from noga and slurm">Delete <i class="myIconB bi bi-trash" style="float: right;" title="Delete server from noga and slurm" data-toggle="modal" data-target="#ModalDelete" (click)="console(item.server_name ,item.cards)"></i></button>   
                     </div> 
                </div>
             </div>
            </td>
          </tr>    
    <!------------row 2 -<tr> for server allocated and unselectable disabled buttons ------------------->                   
          <tr *ngIf="item.allocated === 'yes' && item.status!='idle'" class="table-bordered unselectable" >
            <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
            <td>{{item.server_name}}</td>
            <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
            <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
            <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
            <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>         
            <td>{{item.cards}}</td>
            <td>{{item.device_name}} </td>

           <!--new mtusb table for servers connected-->
           <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
           <td *ngIf="item.mtusb_info !== 'none'">
             <div class="dropdown">
               <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                 Mtusb
               </button>
               <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                 <table class="table table-hover">
                   <thead>
                     <tr class="table pt-3 pb-3">
                       <th>Server mtusb connected</th>
                       <th>Device</th>
                       <th>Remote machine USB side</th>
                       <th>Device name</th>
                       <th>GUID</th>
                       <th>PSID</th>
                     </tr>
                   </thead>
                   <tbody>
                     <tr class="table pt-3 pb-3">              
                       <td>{{item.mtusb_info.server_name}}</td>
                       <td>{{item.mtusb_info.device}}</td>
                       <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                       <td>{{item.mtusb_info.device_name}}</td>
                       <td>{{item.mtusb_info.GUID}}</td>
                       <td>{{item.mtusb_info.PSID}}</td>
                     </tr>
                   </tbody>
                 </table>
                 <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
               </div>
             </div>
           </td>
         <!--end mtusb-->


            <td style="text-align: center;">
              <div class="row">         
                <!--if button server in recovery-->
                <div class="col-lg-12 col-xl-4">
                  <button  *ngIf= "item.status =='in_recovery'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info" >
                    <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                    Open log
                  </button>
                 <!--if button server not in recovery-->
                    <button disabled *ngIf ="item.has_lf=='yes' && item.status !='in_recovery'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_User" title="Enable LiveFish and recover">Start recovery</button>
                    <button disabled *ngIf ="item.has_lf=='no' && item.status !='in_recovery'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button  *ngIf= "item.status =='preparing_minireg'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info">
                  <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                  Open log
                </button>
                <button *ngIf= "item.status !='preparing_minireg'" disabled type="button" class="col-12 mt-1 btn btn_improve btn-secondary  " title="prepare as minireg">Prepare minireg</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button disabled class=" col-12 mt-1 btn btn-secondary" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                  <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                </button>  
               </div>                    
              </div>
            </td>
          </tr>  
         </tbody>
        </table>
        <hr>
     <!------------ table 3 this.api.flag 1 show non allocated servers ------------------->
        <div class="alloc_header offset-4 mb-3 mt-1"><h4>SLURM Non allocated servers</h4></div>
        <table class="table table-hover">
          <thead class="thead">
            <tr class="table-bordered">
              <th class="col-1">ILO</th>
              <th class="col-1">Server name</th>
              <th class="col-1">Dead / Alive</th>
              <th class="col-1">LiveFish</th>
              <th class="col-1">Card</th>
              <th class="col-2">Device</th>
               <th class="col-1">MTUSB</th>
              <th class="col-4">Actions</th>
            </tr>
          </thead>
        <tbody *ngFor="let item of this.cat" class="fade-in">
       <!-------------row 1 <tr> for server non allocated and enabled buttons ------------------->
          <tr *ngIf ="item.status=='idle' && item.allocated==='no'" class="table-bordered">
            <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
            <td>{{item.server_name}}</td>
            <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
            <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
            <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
            <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>
            <td>{{item.cards}}</td>
            <td>{{item.device_name}} </td>

                    <!--new mtusb table for servers connected-->
                      <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
                      <td *ngIf="item.mtusb_info !== 'none'">
                        <div class="dropdown">
                          <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Mtusb
                          </button>
                          <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                            <table class="table table-hover">
                              <thead>
                                <tr class="table pt-3 pb-3">
                                  <th>Server mtusb connected</th>
                                  <th>Device</th>
                                  <th>Remote machine USB side</th>
                                  <th>Device name</th>
                                  <th>GUID</th>
                                  <th>PSID</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr class="table pt-3 pb-3">                       
                                  <td>{{item.mtusb_info.server_name}}</td>
                                  <td>{{item.mtusb_info.device}}</td>
                                  <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                                  <td>{{item.mtusb_info.device_name}}</td>
                                  <td>{{item.mtusb_info.GUID}}</td>
                                  <td>{{item.mtusb_info.PSID}}</td>
                                </tr>
                              </tbody>
                            </table>
                            <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
                          </div>
                        </div>
                      </td>
                    <!--end mtusb-->


            <td style="text-align: center;">
              <div class="row">         
                <div class="col-lg-12 col-xl-4">
                  <button *ngIf ="item.has_lf=='yes'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#exampleModalCenter" title="Enable LiveFish and recover">Start recovery</button>
                  <button *ngIf ="item.has_lf=='no'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_minireg-coming_soon" class="col-12 mt-1 btn btn_improve btn-outline-info " title="prepare as minireg">Prepare minireg</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button disabled class=" col-12 mt-1 btn btn-secondary" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                  <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                </button>  
               </div>                    
              </div>
            </td>
          </tr>  
    <!------------row 2 -<tr> for server non allocated and unselectable disabled buttons ------------------->                   
      <tr *ngIf ="item.status !='idle' && item.allocated==='no' " class="table-bordered unselectable">
        <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
        <td>{{item.server_name}}</td>
        <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
        <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
            <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
            <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>
            <td>{{item.cards}}</td>
            <td>{{item.device_name}} </td>

           <!--new mtusb table for servers connected-->
           <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
           <td *ngIf="item.mtusb_info !== 'none'">
             <div class="dropdown">
               <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                 Mtusb
               </button>
               <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                 <table class="table table-hover">
                   <thead>
                     <tr class="table pt-3 pb-3">
                       <th>Server mtusb connected</th>
                       <th>Device</th>
                       <th>Remote machine USB side</th>
                       <th>Device name</th>
                       <th>GUID</th>
                       <th>PSID</th>
                     </tr>
                   </thead>
                   <tbody>
                     <tr class="table pt-3 pb-3">              
                       <td>{{item.mtusb_info.server_name}}</td>
                       <td>{{item.mtusb_info.device}}</td>
                       <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                       <td>{{item.mtusb_info.device_name}}</td>
                       <td>{{item.mtusb_info.GUID}}</td>
                       <td>{{item.mtusb_info.PSID}}</td>
                     </tr>
                   </tbody>
                 </table>
                 <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
               </div>
             </div>
           </td>
         <!--end mtusb-->


            <td style="text-align: center;">
              <div class="row">         
                <!--if button server in recovery-->
                <div class="col-lg-12 col-xl-4">
                  <button  *ngIf= "item.status =='in_recovery'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info" >
                    <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                    Open log
                  </button>
                 <!--if button server not in recovery-->
                    <button disabled *ngIf ="item.has_lf=='yes' && item.status !='in_recovery'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_User" title="Enable LiveFish and recover">Start recovery</button>
                    <button disabled *ngIf ="item.has_lf=='no' && item.status !='in_recovery'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button  *ngIf= "item.status =='preparing_minireg'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info">
                  <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                  Open log
                </button>
                <button *ngIf= "item.status !='preparing_minireg'" disabled type="button" class="col-12 mt-1 btn btn_improve btn-secondary  " title="prepare as minireg">Prepare minireg</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button disabled class=" col-12 mt-1 btn btn-secondary" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                  <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                </button>  
               </div>                     
              </div>
            </td>
          </tr>  

         </tbody>
        </table>
      </div>  
      </div> 
<!--========================================================================================================================================================-->
<!--===================================================Table this.api.this.api.flag = 2 !important============================================================================-->
<!--========================================================================================================================================================-->
<div *ngIf="this.api.flag == 2">
            <div id="middlebar" class="col-md-12 col-lg-12 col-xl-12 fade-in">
              <div class="alloc_header offset-4" ><h4 class="pl-5 pt-2" style="position:relative; float: left;">Allocated servers</h4>
                <button (click)="Show_running_servers()" type="button" style="float: right;position: relative;text-align: center;" class="ml-3 col-lg-8 col-xl-2 mb-3 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Show running servers only view"><i class="bi bi-activity pr-2" style="float:left;font-weight: bolder;"></i>Show running servers</button>
                <button (click)="Show_dead_servers()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 ml-3 mb-3 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Show dead servers only view"><i class="bi bi-emoji-frown" style="float:left;"></i>Show dead servers</button>
                <button (click)="Show_Mtusbs_list()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 ml-3 mb-3 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Show Mtusb list"><i class="bi bi-usb-symbol" style="float:left;"></i>Show Mtusb list</button>
                <button (click)="Refresh()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 mb-4 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Refresh servers view"><i class="bi bi-arrow-clockwise" style="float:left;"></i>Refresh data</button>
              </div>
              <!-------------table 1 this.api.flag 2 if there is no allocated servers ------------------->
              <table *ngIf="this.api.empty == '1'" class="table table-hover">
                <thead class="thead">
                  <tr class="table-bordered">
                    <th class="col-1">ILO</th>
                    <th class="col-1">Server name</th>
                    <th class="col-1">Dead / Alive</th>
                    <th class="col-1">LiveFish</th>
                    <th class="col-1">Card</th>
                    <th class="col-2">Device</th>
                     <th class="col-1">MTUSB</th>
                    <th class="col-4">Actions</th>
                  </tr>
                </thead>
              <tbody class="fade-in">
                <tr class="table-bordered" class="col-12">
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>     
                  <td class="pt-4" style="float:right">Empty</td>
                  <td></td>
                  <td></td>
                  <td></td>
              </tr>
              </tbody>
              </table>
        <table *ngIf="this.api.user_allocated_servers_2.length != '0' && this.api.empty=='0'" class="table table-hover">
          <thead class="thead">
            <tr class="table-bordered">
              <th class="col-1">ILO</th>
              <th class="col-1">Server name</th>
              <th class="col-1">Dead / Alive</th>
              <th class="col-1">LiveFish</th>
              <th class="col-1">Card</th>
              <th class="col-2">Device</th>
               <th class="col-1">MTUSB</th>
              <th class="col-4">Actions</th>
            </tr>
          </thead>
          <tbody *ngFor="let item of this.api.search_arr" class="fade-in">       
   <!-------------row 1 <tr> for server allocated and enabled buttons ------------------->
          <tr *ngIf="item.allocated === 'yes' && item.status==='idle'" class="table-bordered" >
            <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
            <td>{{item.server_name}}</td>
            <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
            <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
            <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
            <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>         
            <td>{{item.cards}}</td>
            <td>{{item.device_name}} </td>

           <!--new mtusb table for servers connected-->
           <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
           <td *ngIf="item.mtusb_info !== 'none'">
             <div class="dropdown">
               <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                 Mtusb
               </button>
               <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                 <table class="table table-hover">
                   <thead>
                     <tr class="table pt-3 pb-3">
                       <th>Server mtusb connected</th>
                       <th>Device</th>
                       <th>Remote machine USB side</th>
                       <th>Device name</th>
                       <th>GUID</th>
                       <th>PSID</th>
                     </tr>
                   </thead>
                   <tbody>
                     <tr class="table pt-3 pb-3">              
                       <td>{{item.mtusb_info.server_name}}</td>
                       <td>{{item.mtusb_info.device}}</td>
                       <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                       <td>{{item.mtusb_info.device_name}}</td>
                       <td>{{item.mtusb_info.GUID}}</td>
                       <td>{{item.mtusb_info.PSID}}</td>
                     </tr>
                   </tbody>
                 </table>
                 <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
               </div>
             </div>
           </td>
            <!--end mtusb-->


            <td style="text-align: center;">
              <div class="row">               
                <div class="col-lg-12 col-xl-4">
                  <button *ngIf ="item.has_lf=='yes'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#ModalRecovery_User" title="Enable LiveFish and recover">Start recovery</button>
                  <button *ngIf ="item.has_lf=='no'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
                </div>
              <div class="col-lg-12 col-xl-4">
                <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_minireg-coming_soon" class="col-12 mt-1 btn btn_improve btn-outline-info " title="prepare as minireg">Prepare minireg</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button class=" col-12 mt-1 btn btn-info" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                  <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                </button>  
               </div>             
              </div>
              <div class="mt-2 collapse table-bordered" id="collapse-{{item.server_name}}{{item.cards}}">
                <div class="row mt-2 mb-2">
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                    <button type="button" class="col-12 mt-1 btn_improve btn btn-outline-info" title="prepare as reg" data-toggle="modal" data-target="#Modal_coming_soon">Prepare as reg</button>
                  </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported"  class="col-12 mt-1 btn btn_improve btn-outline-info ">Ping</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">Remote ILO reboot</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">ipmi_command cycle</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">ipmi_command on</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">ipmi_command off</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                    <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Choose_OS" title="Choose OS to install" class="col-12 mt-1 btn btn_improve btn-outline-info ">OS install</button>
                  </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">MFT install</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_Not_supported" class="col-12 mt-1 btn btn_improve btn-outline-info ">Rshim install</button>
                   </div>
                   <div class="col-lg-12 offset-xl-1 col-xl-10">
                     <button data-toggle="modal" data-target="#ModalDelete" type="button" class="col-12 mt-1 btn_improve btn btn-outline-danger" title="Delete server from noga and slurm">Delete <i class="myIconB bi bi-trash" style="float: right;" title="Delete server from noga and slurm" data-toggle="modal" data-target="#ModalDelete" (click)="console(item.server_name ,item.cards)"></i></button>   
                     </div> 
                </div>
             </div>
            </td>
          </tr>    
    <!------------row 2 -<tr> for server allocated and unselectable disabled buttons ------------------->                   
          <tr *ngIf="item.allocated === 'yes' && item.status !='idle'" class="table-bordered unselectable" >
            <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
            <td>{{item.server_name}}</td>
            <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
            <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
            <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
            <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>         
            <td>{{item.cards}}</td>
            <td>{{item.device_name}} </td>

            <!--new mtusb table for servers connected-->
            <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
            <td *ngIf="item.mtusb_info !== 'none'">
              <div class="dropdown">
                <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Mtusb
                </button>
                <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                  <table class="table table-hover">
                    <thead>
                      <tr class="table pt-3 pb-3">
                        <th>Server mtusb connected</th>
                        <th>Device</th>
                        <th>Remote machine USB side</th>
                        <th>Device name</th>
                        <th>GUID</th>
                        <th>PSID</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="table pt-3 pb-3">               
                        <td>{{item.mtusb_info.server_name}}</td>
                        <td>{{item.mtusb_info.device}}</td>
                        <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                        <td>{{item.mtusb_info.device_name}}</td>
                        <td>{{item.mtusb_info.GUID}}</td>
                        <td>{{item.mtusb_info.PSID}}</td>
                      </tr>
                    </tbody>
                  </table>
                  <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
                </div>
              </div>
            </td>
                  <!--end mtusb-->

            <td style="text-align: center;">
              <div class="row">         
                <!--if button server in recovery-->
                <div class="col-lg-12 col-xl-4">
                  <button  *ngIf= "item.status =='in_recovery'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info" >
                    <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                    Open log
                  </button>
                 <!--if button server not in recovery-->
                    <button disabled *ngIf ="item.has_lf=='yes' && item.status !='in_recovery'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_User" title="Enable LiveFish and recover">Start recovery</button>
                    <button disabled *ngIf ="item.has_lf=='no' && item.status !='in_recovery'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button  *ngIf= "item.status =='preparing_minireg'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info">
                  <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                  Open log
                </button>
                <button *ngIf= "item.status !='preparing_minireg'" disabled type="button" class="col-12 mt-1 btn btn_improve btn-secondary  " title="prepare as minireg">Prepare minireg</button>
              </div>
              <div class="col-lg-12 col-xl-3">
                <button disabled class=" col-12 mt-1 btn btn-secondary" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                  <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                </button>  
               </div>                       
              </div>
            </td>
          </tr>  
         </tbody>
        </table>
        <hr>
     <!------------ table 3 this.api.flag 2 show non allocated servers ------------------->
        <div class="alloc_header offset-4 mb-3 mt-1"><h4>SLURM Non allocated servers</h4></div>
        <table class="table table-hover">
          <thead class="thead">
            <tr class="table-bordered">
              <th class="col-1">ILO</th>
              <th class="col-1">Server name</th>
              <th class="col-1">Dead / Alive</th>
              <th class="col-1">LiveFish</th>
              <th class="col-1">Card</th>
              <th class="col-2">Device</th>
               <th class="col-1">MTUSB</th>
              <th class="col-4">Actions</th>
            </tr>
          </thead>
        <tbody *ngFor="let item of this.api.search_arr" class="fade-in">
       <!-------------row 1 <tr> for server non allocated and enabled buttons ------------------->
          <tr *ngIf ="item.status=='idle' && item.allocated==='no'" class="table-bordered">
            <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
            <td>{{item.server_name}}</td>
            <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
            <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
            <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
            <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>
            <td>{{item.cards}}</td>
            <td>{{item.device_name}} </td>

           <!--new mtusb table for servers connected-->
           <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
           <td *ngIf="item.mtusb_info !== 'none'">
             <div class="dropdown">
               <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                 Mtusb
               </button>
               <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                 <table class="table table-hover">
                   <thead>
                     <tr class="table pt-3 pb-3">
                       <th>Server mtusb connected</th>
                       <th>Device</th>
                       <th>Remote machine USB side</th>
                       <th>Device name</th>
                       <th>GUID</th>
                       <th>PSID</th>
                     </tr>
                   </thead>
                   <tbody>
                     <tr class="table pt-3 pb-3">              
                       <td>{{item.mtusb_info.server_name}}</td>
                       <td>{{item.mtusb_info.device}}</td>
                       <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                       <td>{{item.mtusb_info.device_name}}</td>
                       <td>{{item.mtusb_info.GUID}}</td>
                       <td>{{item.mtusb_info.PSID}}</td>
                     </tr>
                   </tbody>
                 </table>
                 <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
               </div>
             </div>
           </td>
         <!--end mtusb-->

            <td style="text-align: center;">
              <div class="row">         
                <div class="col-lg-12 col-xl-4">
                  <button *ngIf ="item.has_lf=='yes'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#exampleModalCenter" title="Enable LiveFish and recover">Start recovery</button>
                  <button *ngIf ="item.has_lf=='no'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-outline-info" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button type="button" (click)="console(item.server_name ,item.cards)" data-toggle="modal" data-target="#Modal_minireg-coming_soon" class="col-12 mt-1 btn btn_improve btn-outline-info " title="prepare as minireg">Prepare minireg</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button disabled class=" col-12 mt-1 btn btn-secondary" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                  <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                </button>  
               </div>                       
              </div>
            </td>
          </tr>  
    <!------------row 2 -<tr> for server non allocated and unselectable disabled buttons ------------------->                   
      <tr *ngIf ="item.status !='idle' && item.allocated==='no' " class="table-bordered unselectable">
        <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
        <td>{{item.server_name}}</td>
        <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
        <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
            <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
            <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>
            <td>{{item.cards}}</td>
            <td>{{item.device_name}} </td>

                    <!--new mtusb table for servers connected-->
                    <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
                    <td *ngIf="item.mtusb_info !== 'none'">
                      <div class="dropdown">
                        <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Mtusb
                        </button>
                        <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                          <table class="table table-hover">
                            <thead>
                              <tr class="table pt-3 pb-3">
                                <th>Server mtusb connected</th>
                                <th>Device</th>
                                <th>Remote machine USB side</th>
                                <th>Device name</th>
                                <th>GUID</th>
                                <th>PSID</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr class="table pt-3 pb-3">                       
                                <td>{{item.mtusb_info.server_name}}</td>
                                <td>{{item.mtusb_info.device}}</td>
                                <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                                <td>{{item.mtusb_info.device_name}}</td>
                                <td>{{item.mtusb_info.GUID}}</td>
                                <td>{{item.mtusb_info.PSID}}</td>
                              </tr>
                            </tbody>
                          </table>                        
                          <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
                        </div>
                      </div>
                    </td>
                  <!--end mtusb-->

            <td style="text-align: center;">
              <div class="row">         
                <!--if button server in recovery-->
                <div class="col-lg-12 col-xl-4">
                  <button  *ngIf= "item.status =='in_recovery'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info" >
                    <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                    Open log
                  </button>
                 <!--if button server not in recovery-->
                    <button disabled *ngIf ="item.has_lf=='yes' && item.status !='in_recovery'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_User" title="Enable LiveFish and recover">Start recovery</button>
                    <button disabled *ngIf ="item.has_lf=='no' && item.status !='in_recovery'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button  *ngIf= "item.status =='preparing_minireg'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info">
                  <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                  Open log
                </button>
                <button *ngIf= "item.status !='preparing_minireg'" disabled type="button" class="col-12 mt-1 btn btn_improve btn-secondary  " title="prepare as minireg">Prepare minireg</button>
              </div>
              <div class="col-lg-12 col-xl-4">
                <button disabled class=" col-12 mt-1 btn btn-secondary" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                  <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
                </button>  
               </div>                       
            </div>
          </td>
        </tr>  

       </tbody>
      </table>
        </div>
        </div>
<!--========================================================================================================================================================-->
<!--===================================================Table this.api.flag = 3 !important  this.api.flag 3 shows only running servers view ===================================-->
<!--========================================================================================================================================================-->
<div *ngIf="this.api.flag == 3">
<div id="middlebar" class="col-md-12 col-lg-12 col-xl-12 fade-in">
    <div class="alloc_header offset-4" ><h4 class="pl-5 pt-2" style="position:relative; float: left;">Allocated servers</h4>
      <button (click)="categoryName2('All')" type="button" style="float: right;position: relative;text-align: center;" class="ml-3 col-lg-8 col-xl-2 mb-3 pb-2 pt-2 btn_improve btn btn-secondary" title="Back to all servers"><i class="bi bi-activity pr-2" style="float:left;font-weight: bolder;"></i>Show running servers</button>
      <button (click)="Show_dead_servers()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 ml-3 mb-3 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Show dead servers only view"><i class="bi bi-emoji-frown" style="float:left;"></i>Show dead servers</button>
      <button (click)="Show_Mtusbs_list()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 ml-3 mb-3 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Show Mtusb list"><i class="bi bi-usb-symbol" style="float:left;"></i>Show Mtusb list</button>
      <button (click)="Refresh()" type="button" style="float: right;position: relative;text-align: center;" class="col-lg-8 col-xl-2 mb-4 pb-2 pt-2 btn_improve btn btn-outline-secondary" title="Refresh servers view"><i class="bi bi-arrow-clockwise" style="float:left;"></i>Refresh data</button>
  </div>
  <!-------------table 1 this.api.flag 3 if there is no allocated servers ------------------->
  <table *ngIf="this.api.empty == '1'" class="table table-hover">
    <thead class="thead">
      <tr class="table-bordered">
        <th class="col-1">ILO</th>
        <th class="col-1">LiveFish</th>
        <th class="col-1">Server name</th>
        <th class="col-1">Card</th>
        <th class="col-1">PCI</th>
        <th class="col-2">Device</th>
        <th class="col-4">Actions</th>
      </tr>
    </thead>
  <tbody class="fade-in">
    <tr class="table-bordered" class="col-12">
      <td></td>
      <td></td>
      <td></td>     
      <td></td>
      <td class="pt-4">No running servers</td>
      <td></td>
      <td></td>
  </tr>
  </tbody>
  </table>
 <!------------- table 2 this.api.flag 3 if there is allocated servers ------------------->
      <table *ngIf="this.api.user_allocated_servers_2.length != '0' && this.api.empty=='0'" class="table table-hover">
        <thead class="thead">
          <tr class="table-bordered">
            <th class="col-1">ILO</th>
            <th class="col-1">Server name</th>
            <th class="col-1">Dead / Alive</th>
            <th class="col-1">LiveFish</th>
            <th class="col-1">Card</th>
            <th class="col-2">Device</th>
               <th class="col-1">MTUSB</th>
            <th class="col-4">Actions</th>
          </tr>
      </thead>
        <tbody *ngFor="let item of this.api.Running_Servers_Arr" class="fade-in">       
  <!------------row 2 -<tr> for server allocated and unselectable disabled buttons ------------------->                   
        <tr *ngIf="item.allocated === 'yes' && item.status!='idle'" class="table-bordered unselectable" >
          <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
          <td>{{item.server_name}}</td>
          <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
          <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
          <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
          <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>         
          <td>{{item.cards}}</td>
          <td>{{item.device_name}} </td>

            <!--new mtusb table for servers connected-->
            <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
            <td *ngIf="item.mtusb_info !== 'none'">
              <div class="dropdown">
                <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Mtusb
                </button>
                <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                  <table class="table table-hover">
                    <thead>
                      <tr class="table pt-3 pb-3">
                        <th>Server mtusb connected</th>
                        <th>Device</th>
                        <th>Remote machine USB side</th>
                        <th>Device name</th>
                        <th>GUID</th>
                        <th>PSID</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="table pt-3 pb-3">                       
                        <td>{{item.mtusb_info.server_name}}</td>
                        <td>{{item.mtusb_info.device}}</td>
                        <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                        <td>{{item.mtusb_info.device_name}}</td>
                        <td>{{item.mtusb_info.GUID}}</td>
                        <td>{{item.mtusb_info.PSID}}</td>
                      </tr>
                    </tbody>
                  </table>
                  <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
                </div>
              </div>
            </td>
          <!--end mtusb-->

          <td style="text-align: center;">
            <div class="row">         
              <!--if button server in recovery-->
              <div class="col-lg-12 col-xl-4">
                <button  *ngIf= "item.status =='in_recovery'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info" >
                  <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                  Open log
                </button>
               <!--if button server not in recovery-->
                  <button disabled *ngIf ="item.has_lf=='yes' && item.status !='in_recovery'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_Admin" title="Enable LiveFish and recover">Start recovery</button>
                  <button disabled *ngIf ="item.has_lf=='no' && item.status !='in_recovery'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
            </div>
            <div class="col-lg-12 col-xl-4">
              <button  *ngIf= "item.status =='preparing_minireg'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info">
                <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                Open log
              </button>
              <button *ngIf= "item.status !='preparing_minireg'" disabled type="button" class="col-12 mt-1 btn btn_improve btn-secondary  " title="prepare as minireg">Prepare minireg</button>
            </div>
            <div class="col-lg-12 col-xl-4">
              <button disabled class=" col-12 mt-1 btn btn-secondary" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
              </button>  
             </div>                       
            </div>
          </td>
        </tr>  
       </tbody>
      </table>
      <hr>
   <!------------ table 3 this.api.flag 3 show non allocated servers ------------------->
      <div class="alloc_header offset-4 mb-3 mt-1"><h4>SLURM Non allocated servers</h4></div>
                                  <!-------------table 3 this.api.flag 3 if there is no allocated servers and no running servers in website at all ------------------->
       <table *ngIf="this.api.non_alocated_running_servers_empty == '1'" class="table table-hover">
         <thead class="thead">
           <tr class="table-bordered">
             <th class="col-1">ILO</th>
             <th class="col-1">LiveFish</th>
             <th class="col-1">Server name</th>
             <th class="col-1">Card</th>
             <th class="col-1">PCI</th>
             <th class="col-2">Device</th>
             <th class="col-4">Actions</th>
           </tr>
         </thead>
       <tbody class="fade-in">
         <tr class="table-bordered" class="col-12">
           <td></td>
           <td></td>
           <td></td>     
           <td></td>
           <td class="pt-4">No running servers</td>
           <td></td>
           <td></td>
       </tr>
       </tbody>
       </table>
        <table *ngIf="this.api.non_alocated_running_servers_empty == '0'" class="table table-hover">
        <thead class="thead">
          <tr class="table-bordered">
            <th class="col-1">ILO</th>
            <th class="col-1">Server name</th>
            <th class="col-1">Dead / Alive</th>
            <th class="col-1">LiveFish</th>
            <th class="col-1">Card</th>
            <th class="col-2">Device</th>
               <th class="col-1">MTUSB</th>
            <th class="col-4">Actions</th>
          </tr>
      </thead>
      <tbody *ngFor="let item of this.api.Running_Servers_Arr" class="fade-in">
  <!------------row 2 -<tr> for server non allocated and unselectable disabled buttons ------------------->                   
    <tr *ngIf ="item.status !='idle' && item.allocated==='no' " class="table-bordered unselectable">
      <td><button type="button" class="btn dark" (click)="Open_ILO(item.server_name)">ILO</button></td>
      <td>{{item.server_name}}</td>
      <td class="Dead_server" *ngIf="item.dead_reason !== 'Alive'">{{item.dead_reason}}</td>
      <td class="Alive_server" *ngIf="item.dead_reason == 'Alive'">Alive</td>
          <td *ngIf="item.has_lf === 'no'"><i class="bi bi-circle-fill red_circle"></i></td>
          <td *ngIf="item.has_lf === 'yes'"><i class="bi bi-circle-fill green_circle"></i></td>
          <td>{{item.cards}}</td>
          <td>{{item.device_name}} </td>

            <!--new mtusb table for servers connected-->
            <td *ngIf="item.mtusb_info === 'none'"><button class="disabled btn btn-outline-secondary col-8" type="button" title="No Mtusb device connected">N / A</button></td>
            <td *ngIf="item.mtusb_info !== 'none'">
              <div class="dropdown">
                <button style="background-color: rgb(232, 253, 253); border-color: #5c769159;" class="btn btn-light dropdown-toggle col-8" type="button" title="Show Mtusb table" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Mtusb
                </button>
                <div style="background-color: rgb(245, 255, 255); border-color: black; width: 1200px; text-align: center; vertical-align: middle;" class="dropdown-menu pt-0 pb-4" aria-labelledby="dropdownMenuButton">
                  <table class="table table-hover">
                    <thead>
                      <tr class="table pt-3 pb-3">
                        <th>Server mtusb connected</th>
                        <th>Device</th>
                        <th>Remote machine USB side</th>
                        <th>Device name</th>
                        <th>GUID</th>
                        <th>PSID</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="table pt-3 pb-3">                       
                        <td>{{item.mtusb_info.server_name}}</td>
                        <td>{{item.mtusb_info.device}}</td>
                        <td>{{item.mtusb_info.remote_machine_usb_side}}</td>
                        <td>{{item.mtusb_info.device_name}}</td>
                        <td>{{item.mtusb_info.GUID}}</td>
                        <td>{{item.mtusb_info.PSID}}</td>
                      </tr>
                    </tbody>
                  </table>
                  <button (click)="Show_Mtusbs_list()" type="button" class="col-3 btn_improve btn btn-outline-info" title="Show all servers MTUSB">Show all servers MTUSB list</button>
                </div>
              </div>
            </td>
          <!--end mtusb-->

          <td style="text-align: center;">
            <div class="row">         
              <!--if button server in recovery-->
              <div class="col-lg-12 col-xl-4">
                <button  *ngIf= "item.status =='in_recovery'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info" >
                  <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                  Open log
                </button>
               <!--if button server not in recovery-->
                  <button disabled *ngIf ="item.has_lf=='yes' && item.status !='in_recovery'" (click)="console(item.server_name ,item.cards)" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_Admin" title="Enable LiveFish and recover">Start recovery</button>
                  <button disabled *ngIf ="item.has_lf=='no' && item.status !='in_recovery'" type="button" class="col-12 mt-1 mt-1 btn_improve btn btn-secondary" data-toggle="modal" data-target="#ModalRecovery_failed" title="Enable LiveFish and recover">Start recovery</button>
            </div>
            <div class="col-lg-12 col-xl-4">
              <button  *ngIf= "item.status =='preparing_minireg'" (click)="bring_website_user_log(item)" class="col-12 mt-1 btn_improve btn btn-info">
                <span class="spinner-border spinner-border-sm btn_improve mt-1" style="float: left;"></span>
                Open log
              </button>
              <button *ngIf= "item.status !='preparing_minireg'" disabled type="button" class="col-12 mt-1 btn btn_improve btn-secondary  " title="prepare as minireg">Prepare minireg</button>
            </div>
            <div class="col-lg-12 col-xl-4">
              <button disabled class=" col-12 mt-1 btn btn-secondary" (click)="console_test(item.server_name)" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-' + item.server_name + item.cards" aria-expanded="false" aria-controls="collapseExample">
                <i style="float: left;" class="bi bi-arrow-down-circle"></i>More options
              </button>  
             </div>                      
              </div>
            </td>
          </tr>  
         </tbody>
        </table>
          </div>
          </div>
        </div>
      </div>
   </div>
<!----------------------------------------------------- Modal delete ------------------------------------------------------------->
<div class="modal fade" id="ModalDelete" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="font-weight: bold;">System Message</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div style="text-align: center">
          <h3 class="modal-title mb-4" id="exampleModalLabel">This operation will remove the server From NOGA and SLURM permanently, are you sure ?</h3>
          <button class="btn btn-secondary pl-2 pr-2 col-4" data-dismiss="modal">  Cancel  </button>
          <button class="btn btn-danger ml-3 col-4" data-dismiss="modal">Yes delete</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!----------------------------------------------------- Modal Submit ------------------------------------------------------------->
<div class="modal fade" id="ModalSubmit" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <div style="text-align: center">
          <!-- <h3 class="card-title">{{Servers_Info1.cards}}</h3> -->
          <h4 class="modal-title mb-4" id="exampleModalLabel">Service ticket submitted successfully</h4>
          <button id="myBtn" class="btn btn-info ml-3 col-4" (click)="New_Service_Fix_Ticket()" data-dismiss="modal">Ok</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!----------------------------------------------------- close ticket modal------------------------------------------------------------->

<div class="modal fade" id="Close_ticket_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="font-weight: bold;">System Message</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div style="text-align: center">
          <h4 class="modal-title mb-4" >You are about to close this ticket permanently, are you sure?</h4>
          <button class="btn btn-secondary pl-2 pr-2 col-4" data-dismiss="modal">  Cancel  </button>
          <button class="btn btn-info ml-3 col-4"  (click)="Close_ticket()"  data-dismiss="modal">Yes Close</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!----------------------------------------------------- Modal Recovery regular user------------------------------------------------------------->

<div class="modal fade" id="ModalRecovery_User" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="font-weight: bold;">System Message</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div style="text-align: center">
          <!-- <h3 class="card-title">{{Servers_Info1.cards}}</h3> -->
          <h4 class="modal-title mb-4" >This operation will perform card recovery and the server needs to reboot, operation takes ~20 min are you sure ?</h4>
          <button class="btn btn-secondary pl-2 pr-2 col-4" data-dismiss="modal">  Cancel  </button>
          <button class="btn btn-info ml-3 col-4"  (click)="Start_Recovery_User()"  data-dismiss="modal">Yes continue</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!----------------------------------------------------- Modal_prepeare as minireg coming_soon ------------------------------------------------------------->

<div class="modal fade" id="Modal_minireg-coming_soon" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="font-weight: bold;">System Message</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div style="text-align: center">
          <!-- <h3 class="card-title">{{Servers_Info1.cards}}</h3> -->
          <h4 class="modal-title mb-4" >Prepare as minireg operation is not functional temporary</h4>
          <button class="btn btn-info pl-2 pr-2 col-4" data-dismiss="modal">  Dismiss  </button>
          <!-- <button class="btn btn-info ml-3 col-4"  data-dismiss="modal">Yes Recover</button> -->
        </div>
      </div>
    </div>
  </div>
</div>

<!----------------------------------------------------- ModalRecovery_failed ------------------------------------------------------------->

<div class="modal fade" id="ModalRecovery_failed" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="font-weight: bold;">System Message</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div style="text-align: center">
          <!-- <h3 class="card-title">{{Servers_Info1.cards}}</h3> -->
          <h4 class="modal-title mb-4" >This server is not connected to LiveFish device and can't be recovered</h4>
          <button class="btn btn-info pl-2 pr-2 col-4" data-dismiss="modal">  Dismiss  </button>
          <!-- <button class="btn btn-info ml-3 col-4"  data-dismiss="modal">Yes Recover</button> -->
        </div>
      </div>
    </div>
  </div>
</div>

<!--------------------------------------- Modal About------------------------------------------------------------->
<div class="modal fade" id="ModalAbout" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="font-weight: bold;">About this website</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h4>This website was developed by FW-automation team to integrate several actions and gather them in one place.</h4><br>
        <h4>Each user has permission to recover his allocated slurm server or other users servers with typing a logical reason. </h4><br>
        <h4>User can prepare server as mini-reg and reproduce bugs and errors.</h4><br>
        <h4>You can use the various actions or open ticket for FW server fixing actions.</h4><br><h4>In case you do not have anything to do with this website please logout.</h4>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-info offset-4 col-4" data-dismiss="modal">Dismiss</button>
      </div>
    </div>
  </div>
</div>

<!----------------------------------------------------- Modal operation not supported temporary ------------------------------------------------------------->

<div class="modal fade" id="Modal_Not_supported" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="font-weight: bold;">System Message</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div style="text-align: center">
          <!-- <h3 class="card-title">{{Servers_Info1.cards}}</h3> -->
          <h4 class="modal-title mb-4" >This operation is not supported temporary</h4>
          <button class="btn btn-info pl-2 pr-2 col-4" data-dismiss="modal">  Dismiss  </button>
          <!-- <button class="btn btn-info ml-3 col-4"  data-dismiss="modal">Yes Recover</button> -->
        </div>
      </div>
    </div>
  </div>
</div>
<!----------------------------------------------------- Modal_prepeare as minireg coming_soon ------------------------------------------------------------->

<div class="modal fade" id="Modal_minireg-coming_soon" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="font-weight: bold;">System Message</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div style="text-align: center">
          <!-- <h3 class="card-title">{{Servers_Info1.cards}}</h3> -->
          <h4 class="modal-title mb-4" >Prepare as minireg operation is not functional temporary</h4>
          <button class="btn btn-info pl-2 pr-2 col-4" data-dismiss="modal">  Dismiss  </button>
          <!-- <button class="btn btn-info ml-3 col-4"  data-dismiss="modal">Yes Recover</button> -->
        </div>
      </div>
    </div>
  </div>
</div>
<!----------------------------------------------------- Modal_prepeare as reg coming_soon ------------------------------------------------------------->

<div class="modal fade" id="Modal_coming_soon" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="font-weight: bold;">System Message</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div style="text-align: center">
          <!-- <h3 class="card-title">{{Servers_Info1.cards}}</h3> -->
          <h4 class="modal-title mb-4" >Prepare as reg operation is not functional temporary</h4>
          <button class="btn btn-info pl-2 pr-2 col-4" data-dismiss="modal">  Dismiss  </button>
          <!-- <button class="btn btn-info ml-3 col-4"  data-dismiss="modal">Yes Recover</button> -->
        </div>
      </div>
    </div>
  </div>
</div>

<!--------------------------------------- Modal Recovery user non allocated servers for him------------------------------------------------------------->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="color: red; font-weight: bold;">Worning!</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h4>This server is not allocated for {{UserName}}, if you really need to recover this server please insert valid reason and describe why. otherwhse please cancel this operation.</h4>
        <textarea [(ngModel)]="worning_obj.Description" style="height: 150px;border-style: solid; border-color: black;"id="w3review1" name="w3review1" class="col-12 mt-5" placeholder="Example: DanA server is stuck on booting due to bad FW burn, this operation is on his behalf."></textarea>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger col-4" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-outline-info col-4" (click)="Start_Recovery_User()"  data-dismiss="modal">Yes continue</button>
      </div>
    </div>
  </div>
</div>

<!--------------------------------------- Modal prepare minireg user non allocated servers for him------------------------------------------------------------->
<div class="modal fade" id="exampleModalCenter_minireg" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="color: red; font-weight: bold;">Worning!</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h4>This server is not allocated for {{UserName}}, if you really need to run and prepare mini-reg on this server please insert valid reason and describe why. otherwhse please cancel this operation.</h4>
        <textarea [(ngModel)]="worning_obj.Description" style="height: 150px;border-style: solid; border-color: black;"id="w3review1" name="w3review1" class="col-12 mt-5"></textarea>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger col-4" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-outline-info col-4" (click)="Start_perpare_minireg()"  data-dismiss="modal">Yes continue</button>
      </div>
    </div>
  </div>
</div>
<!----------------------------------------------------- Modal_Choose_OS_to_install ------------------------------------------------------------->
<!-- Modal -->
<div class="modal fade bd-example-modal" id="Modal_Choose_OS" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true" >
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 style="font:bold;" class="modal-title mb-1" id="exampleModalScrollableTitle">1. Please choose one OS to install:</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
 
      <div class="modal-body">
        <div>
          <h5 class="mb-3" style="color: #c22f2f;font:bold;">Note: RH_7.4_x86_64_new (default)</h5>
        </div>
        <div>
          <form class="form-inline my-2 my-lg-0">
            <input (keypress)="onKeypressEvent($event)" type="text" value="" class="form-control col-12" placeholder="RH_7.4_x86_64_new" list="datalist_OS">
          </form>
          <datalist id="datalist_OS">
            <select *ngFor="let item of this.api.OS_List">
              <option>{{item}}</option>
            </select>
          </datalist>  
        </div>
        <div class="modal-header">
          <h4 style="font:bold;" class="modal-title mb-1 mt-5" id="exampleModalScrollableTitle">2. Please choose OS size or type:</h4>
        </div>
        <div class="modal-body">
          <div>
            <h5 class="mb-3" style="color: #c22f2f; font:bold;">Note: 500000 Megabyte (500G default)</h5>
          </div>
          <div>
            <form class="form-inline my-2 my-lg-0">
              <input (keypress)="onKeypressEvent($event)" type="text" value="" class="form-control col-12" placeholder="500000 Megabyte" list="datalist_OS_size">
            </form>
            <datalist id="datalist_OS_size">
              <select>
                <option>500000</option>
                <option>400000</option>
                <option>300000</option>
                <option>200000</option>
                <option>100000</option>
              </select>
            </datalist>  
          </div>
        </div>
      </div>
      <div class="mt-3 mb-3" style="text-align: center">
        <button class="btn btn-secondary col-4 mr-1" data-dismiss="modal">  Cancel  </button>
        <button class="btn btn-info col-4 ml-1"  data-toggle="modal" data-target="#Confirm_OS_install"  data-dismiss="modal">Next</button>
      </div>
    </div>
  </div>
</div>
<!----------------------------------------------------- Modal Confirm OS install------------------------------------------------------------->

<div class="modal fade" id="Confirm_OS_install" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle" style="font-weight: bold;">System Message</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div style="text-align: center">
          <!-- <h3 class="card-title">{{Servers_Info1.cards}}</h3> -->
          <h4 class="modal-title mb-4" >This operation takes ~1h and will perform server format and OS installation do you confirm ?</h4>
          <button class="btn btn-danger pl-2 pr-2 col-4" data-dismiss="modal">  Cancel  </button>
          <button class="btn btn-info ml-3 col-4"  data-dismiss="modal">Yes install</button>
          <!-- <button class="btn btn-info ml-3 col-4"  (click)="Start_Recovery_Admin()"  data-dismiss="modal">Yes continue</button> -->

        </div>
      </div>
    </div>
  </div>
</div>
</html>
